# Code Review — system.core 전제, 동일 강제 기준
# 도구: 이 파일의 prompt 키 사용. 사람 읽기: docs/review.md

meta:
  name: review
  strict: true
  platform_agnostic: true

prompt: |
  # Review (필수 기준, 플랫폼 무관)

  ## 범위 (필수 검사 대상)
  MUST: diff 전체, 신규 의존성, 설정·env 변경 전부 검토.

  ## 체크리스트 (항목별로 위반만 파일:라인·구체 내용 기입, 통과 항목은 생략)
  1. 일관성: 기존 네이밍·스타일·디렉터리·패턴·플랫폼 관례(iOS/Android/Flutter/Web/Server) 100% 일치. 불일치 시 반드시 지적.
  2. 품질: 단일 책임·중복 없음·매직값 상수화·고복잡도 구간 설명 유무. 미충족 시 수정 요청.
  3. 보안: 비밀/키/토큰 코드·로그 노출 여부, 입력 검증(타입·범위·포맷) 필수. 위반 시 반드시 수정 요청.
  4. 에러: 실패 시나리오·타임아웃·재시도 고려, 에러 메시지 구체성. 미고려 시 지적.
  5. 호환: 기존 API·동작 훼손 여부, 마이그레이션·설정 변경 필요 시 명시 여부. 훼손·미명시 시 수정 요청.

  ## 출력 형식 (필수)
  MUST: 요약 1~2문장 (승인/조건부 승인/수정 후 재검토).
  MUST: 위반 항목만 위 순서대로 파일:라인+구체 내용.
  MUST: 수정 제안 있으면 코드 스니펫 또는 단계로 제시.
  SHOULD: 잘된 점 1~2줄.

  미준수 항목이 1개라도 있으면 "수정 후 재검토"로 결론. 전 항목 통과 시에만 "승인".
